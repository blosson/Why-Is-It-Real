# ğŸÂ Whyisitreal?

- Whyisitreal (ì´ì™œì§„)ì€ í‰ê°€ ë°ì´í„°ì— ê¸°ë°˜í•œ ì˜í™” ë¦¬ë·° / ì¶”ì²œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

---

### ğŸ›  Tech Stack & Tool

- BackEnd:Â `Python 3.10.1` Â `Django 3.2.13`
- FrontEnd:Â `HTML`Â `CSS`Â `Javascript` `Vue 2.7.14`
- Design: `Bootstarp`Â `Figma`
- Others:Â `Git`Â `Notion` `Visual Studio Code` `Octopus.do` `Draw.io`

## ğŸ‘«Â íŒ€ì› ë° ì—­í•  ë¶„ë‹´

- ì´ì˜ˆì§„ : `FrontEnd Main`, `BackEnd Sub`, `Design`
- ì†ë¯¼í˜ : `BackEnd Main,` `FrontEnd Sub`, `Algorithm`

---

### ğŸ›«Â Why Whyisitreal?

1. ì„œë¹„ìŠ¤ì˜ í•„ìš”ì„±
    
    ë‹¤ì–‘í•œ ì˜í™”ì™€ í”Œë«í¼ë“¤ì´ ìŸì•„ì§€ë©´ì„œ ìì‹ ì—ê²Œ ë§ëŠ” ì˜í™”ë¥¼ ì‹œì²­í•˜ê³  ì‹¶ì–´í•˜ëŠ” ì‚¬ìš©ìê°€ ì¦ê°€í•˜ê³  ìˆë‹¤. ê¸°ì¡´ ì„œë¹„ìŠ¤ë“¤ì€ ì˜í™” ì¶”ì²œ ê¸°ëŠ¥ ë˜ëŠ” ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ëª¨ë‘ í•œ ë²ˆì— ì´ìš©í•˜ê³  ì‹¶ì–´í•˜ëŠ” ì‚¬ìš©ìë“¤ì—ê²Œ ë¶ˆí¸í•¨ì´ ì¡´ì¬í•œë‹¤.
    
2. ì„œë¹„ìŠ¤ ì‚¬ìš©ì
    
    ì˜í™” ê²€ìƒ‰ ì‹œê°„ì„ ì¤„ì—¬ ìì‹ ì˜ ì·¨í–¥ì— ë§ëŠ” ì˜í™”ë¥¼ ì¶”ì²œë°›ì•„ ì‹œì²­í•˜ê³ , ì˜í™”ì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ë‚¨ê²¨ íƒ€ì¸ê³¼ ê³µìœ í•˜ê³  ì‹¶ì–´í•˜ëŠ” 10-30ëŒ€ (ì´í›„ í™•ì¥ ì˜ˆì •)
    
3. í˜„ ìœ ì‚¬ ì„œë¹„ìŠ¤
    - ì˜í™” ì¶”ì²œ ì„œë¹„ìŠ¤
        1. ë„·í”Œë¦­ìŠ¤ 
            - ìœ ì‚¬ ì‚¬ìš©ì ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜, ìœ ì‚¬ ì•„ì´í…œ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜, ì ì¬ ëª¨ë¸ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜, ì½˜í…ì¸  ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜
            
            [ë„·í”Œë¦­ìŠ¤ì˜ ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜](https://brunch.co.kr/@cysstory/159)
            
        2. ì™“ì± 
            - ìœ ì‚¬ ì‚¬ìš©ì ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜, ìœ ì‚¬ ì½˜í…ì¸  ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜
            - ë„·í”Œë¦­ìŠ¤ì™€ ì°¨ì´ì ì´ ìˆë‹¤ë©´ ì™“ì± ëŠ” ê°€ì…ë‹¨ê³„ì—ì„œ ì •í™•í•œ ë°ì´í„°(ì·¨í–¥)ë¥¼ ì‚¬ìš©ìì—ê²Œ ìš”êµ¬í•¨
            
            [ë„·í”Œë¦­ìŠ¤ì™€ ì™“ì±  ì˜í™”ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜](https://bumi1004.tistory.com/entry/%EB%84%B7%ED%94%8C%EB%A6%AD%EC%8A%A4-%EC%99%93%EC%B1%A0-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)
            
        
        - ê¸°ì¡´ OTT ì„œë¹„ìŠ¤ëŠ” ì£¼ë¡œ ì‹œì²­ ì‹œê°„, ì‹œì²­ ê¸°ê°„ëŒ€, ì‹œì²­ ë””ë°”ì´ìŠ¤, ì¬ì‹œì²­ ë¹„ìœ¨ ë“± ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì„ ë§ˆë ¨í•˜ëŠ”ë°,  APIë¥¼ ê°€ì ¸ë‹¤ ì“°ëŠ” ìš°ë¦¬ëŠ” ì´ëŸ¬í•œ ê¸°ë°˜ì˜ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•˜ê¸° ì‰½ì§€ ì•Šì•˜ë‹¤.
            
            â†’ ê·¸ë˜ì„œ ê¸°ì¡´ ì˜ êµ¬í˜„ëœ ì•Œê³ ë¦¬ì¦˜ì„ ë°”íƒ•ìœ¼ë¡œ ìš°ë¦¬ë§Œì˜ ì•„ì´ë””ì–´ë¥¼ í™œìš©í•´ ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í–ˆë‹¤.
            

- ì˜í™” ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤
    1. ì™“ì± 
        - ê° ì˜í™”ë³„ í‰ì ê³¼ ê°„ë‹¨í•œ ì½”ë©˜íŠ¸ê°€ ìˆì–´ ì§ê´€ì ì´ì§€ë§Œ ëŒ“ê¸€ì„ ë‹¬ê±°ë‚˜ ìì„¸í•œ ë¦¬ë·°ë¥¼ ì‘ì„±í•  ìˆ˜ëŠ” ì—†ìŒ.
        
        ![watcha](https://user-images.githubusercontent.com/67399771/203859780-80bbb170-734f-46ca-a852-fdecbfbf6b14.png)
        
    2. ë„¤ì´ë²„ ì˜í™”
        - ì˜í™”ì— ëŒ€í•œ ë¦¬ë·°(ìì„¸í•¨) / í‰ì (ê°„ë‹¨í•œ ì½”ë©˜íŠ¸)ê°€ ìˆìŒ. ë˜í•œ ì¶”ì²œê³¼ ì¢‹ì•„ìš” /ê¸°ëŠ¥ì´ ìˆì–´ íƒ€ ì‚¬ìš©ìë“¤ì˜  ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ ë¹„êµì  í™œë°œí•œ í¸.
        
        ![naver1](https://user-images.githubusercontent.com/67399771/203859758-343019a1-066b-4d63-aed7-9778c211fdf0.png)
        
        ![naver2](https://user-images.githubusercontent.com/67399771/203859760-4989939a-f195-472b-ba20-217a044ae319.png)
        
    - ì§ê´€ì„±/í¸ë¦¬ì„± vs ìì„¸í•œ ì •ë³´ ì œê³µì´ë¼ëŠ” ê°ê°ì˜ ì¥ì ì´ ì¡´ì¬
    
    â†’ ì§ê´€ì„±ê³¼ í¸ë¦¬ì„±ì´ UX ì¸¡ë©´ì—ì„œ ë” ê°€ì¹˜ìˆë‹¤ê³  íŒë‹¨í•˜ì—¬ ì˜í™”ì— ëŒ€í•œ ê°„ë‹¨í•œ ë¦¬ë·° ê¸°ëŠ¥ë§Œ êµ¬í˜„í•˜ê¸°ë¡œ ê²°ì •
    

---

### ğŸ›« About Whyisitreal

- ERD
    
    ![erd](https://user-images.githubusercontent.com/67399771/203859754-04958938-5a8a-4a11-bdad-62340ebcf8ff.png)
    

- ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë„
    
    ![structure](https://user-images.githubusercontent.com/67399771/203859776-668f9297-2365-4706-800e-168d92b6e64b.png)
    

- ì„œë¹„ìŠ¤ ì£¼ê¸°ëŠ¥, ë¶€ê¸°ëŠ¥(ìƒì„¸ê¸°ëŠ¥)
    - ì£¼ê¸°ëŠ¥ (MVP)
        - ì‚¬ìš©ì ì¢‹ì•„ìš” ê¸°ë°˜ ì˜í™” ì¶”ì²œ
        - ì˜í™”ë³„ ë¦¬ë·° ì»¤ë®¤ë‹ˆí‹°
    - ë¶€ê¸°ëŠ¥
        - ìµœì‹  ì˜í™” ì¶”ì²œ
        - ê´€ë ¨ ì˜í™” ì¶”ì²œ
        - ì˜¤ëŠ˜ì˜ ì˜í™” ì¶”ì²œ
        - ë‚˜ë§Œ ë‹¹í•  ìˆ˜ ì—†ì§€ ì˜í™” ì¶”ì²œ (ìµœí•˜ í‰ì , ìµœí•˜ ê´€ê° ìˆ˜ ì˜í™”)
        - ì˜í™” ê²€ìƒ‰ ê¸°ëŠ¥
        - í”„ë¡œí•„ ê¸°ëŠ¥
        
- DB (fixtures)
    - all_movies.json : TopRated ì˜í™” 10,000ê°œ
    - genres.json : 19ê°œì˜ ì˜í™” ì¥ë¥´

- API (TMDB)
    - TopRatedMovies
    - GetMovie
    - Recommendation
    - Latest
    - Similar

- ì‚¬ìš©ì ì¢‹ì•„ìš” ê¸°ë°˜ ì˜í™” ì¶”ì²œ
    - íšŒì›ê°€ì… ì‹œ 48ê°œì˜ ì˜í™” ëª©ë¡ì„ ë„ì›Œì£¼ëŠ” í˜ì´ì§€ë¡œ ì´ë™í•´ ì‚¬ìš©ìê°€ ì¦ê²¨ë´¤ë˜ ì˜í™”ë¥¼ ê³ ë¥¼ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
        
        ![signup](https://user-images.githubusercontent.com/67399771/203859772-39c1d438-1316-4113-bf04-06556cf73e2f.png)
        
        ![selection](https://user-images.githubusercontent.com/67399771/203859770-3a95be4e-e5fb-48a4-a4ac-0dc294630245.png)
        
        - <ì•Œê³ ë¦¬ì¦˜>
            1. 10,000ê°œì˜ ì˜í™” DBë¥¼ forë¬¸ì„ ì´ìš©í•´ ì¥ë¥´ë³„ë¡œ ë¶„ë¥˜
            2. ìœ ì €ê°€ ê¸°ì¡´ì— ë´¤ë˜ ìµìˆ™í•œ ì˜í™”ë¥¼ ë…¸ì¶œì‹œí‚¤ê¸° ìœ„í•´ `popularity` í•„ë“œê°€ 100ì´ìƒì¸ ì˜í™”ë§Œ í•„í„°ë§
            3. ì¥ë¥´ ë³„ ìµœì†Œ 1ê°œ ì´ìƒì˜ ì˜í™”ê°€ í¬í•¨ë  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œ (genre_id 99ë²ˆì¸ ë‹¤íë©˜í„°ë¦¬ëŠ” 10,000ê°œ DBì— í•˜ë‚˜ë„ ì—†ìœ¼ë¯€ë¡œ ì œì™¸)
            
    - ì‚¬ìš©ìê°€ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì˜í™”ì— ëŒ€í•œ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ë¥¸ ì˜í™”ë¥¼ ì¶”ì²œí•´ì¤ë‹ˆë‹¤.
        
        ![like_recommendation](https://user-images.githubusercontent.com/67399771/203859757-cf144982-fde2-4025-9dde-404b6ab5e7fc.png)
        
    
    - <ì•Œê³ ë¦¬ì¦˜>
        1. í•´ë‹¹ ì‚¬ìš©ìë¥¼ ë¶ˆëŸ¬ì™€ì„œ `like_movies.all()`ì„ ì‚¬ìš©í•˜ì—¬ ì¢‹ì•„ìš”í•œ ì˜í™” ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±
        2. forë¬¸ìœ¼ë¡œ listë¥¼ ìˆœíšŒí•˜ì—¬ recommendation APIë¡œë¶€í„° ì¶”ì²œì˜í™” ëª©ë¡ì„ ë°›ì•„ì˜´
        3. ì¶”ì²œëœ ì˜í™”ì˜ íšŸìˆ˜ë¥¼ ì¹´ìš´íŠ¸í•˜ì—¬ ì¤‘ë³µì„ ì œê±°í•˜ê³  ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
        4. 0~19ë²ˆ ì¸ë±ìŠ¤ê¹Œì§€ ìŠ¬ë¼ì´ì‹±í•´ì„œ ê°€ì ¸ì˜¤ê³  ì´ ì¤‘ì—ì„œ 12ê°œì˜ ì˜í™”ë¥¼ ëœë¤ìœ¼ë¡œ ì¶”ì¶œ
        5. 12ê°œì˜ ì˜í™”ê°€ í˜„ì¬ DBì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ DBì— ì €ì¥ë„ í•´ì¤Œ
        6. ë©”ì¸í˜ì´ì§€ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ 12ê°œì˜ ì¢‹ì•„ìš” ê¸°ë°˜ ì¶”ì²œì˜í™”ë“¤ì„ ë³´ì—¬ì¤Œ
    
- ì˜í™”ë³„ ë¦¬ë·° ì»¤ë®¤ë‹ˆí‹°
    - ê´€ë ¨ ì˜í™” ì¶”ì²œ
        
        ![similar](https://user-images.githubusercontent.com/67399771/203859774-822b05ed-aba7-443b-b35a-779ab3af4c6d.png)
        
    
    - <ì•Œê³ ë¦¬ì¦˜>
        1. Similar APIë¥¼ ì´ìš©í•˜ì—¬ ê´€ë ¨ ì˜í™” ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜´ (ì˜í™”ë‹¹ ì•½ 80ê°œì˜ ëª©ë¡ì´ ì¡°ëƒŠ)
        2. ê´€ë ¨ ì˜í™”ê°€ 12ê°œ ì´ìƒì´ë©´ ëœë¤ìœ¼ë¡œ 12ê°œì˜ ì˜í™”ë¥¼ ì¶”ì¶œí•˜ì—¬ ë³´ì—¬ì£¼ê³ , ë¯¸ë§Œì´ë©´ ê°¯ìˆ˜ë§Œí¼ í˜ì´ì§€ì— ë³´ì—¬ì¤Œ
    - ì˜í™” ì¢‹ì•„ìš” ê¸°ëŠ¥
    - ë¦¬ë·° CRUD ê¸°ëŠ¥
    
    ![crud](https://user-images.githubusercontent.com/67399771/203859749-bdcf1c18-7c91-4afc-984f-e8fd339c5d0e.png)
    
    - ë¦¬ë·° ì‘ì„±ì í´ë¦­ì‹œ í•´ë‹¹ ìœ ì € í”„ë¡œí•„ë¡œ ë„˜ì–´ê°€ê¸° ê¸°ëŠ¥

- ìµœì‹  ì˜í™” ì¶”ì²œ
    
    ![latest](https://user-images.githubusercontent.com/67399771/203859756-b0987f1b-f253-4559-bea4-c0e95911a269.png)
    

- <ì•Œê³ ë¦¬ì¦˜>
    1. Latest APIë¥¼ ì´ìš©í•˜ì—¬ 3í˜ì´ì§€ê¹Œì§€ (ì•½ 120ê°œ)ì˜ ì˜í™”ë¥¼ ë¶ˆëŸ¬ì˜´ (í˜ì´ì§€ê°€ ë” ì¡´ì¬í•˜ì§€ë§Œ ì´ë¯¸ popularity ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆì–´ ê·¸ ì´í›„ ì˜í™”ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ ë¬´ì˜ë¯¸í•˜ë‹¤ê³  íŒë‹¨í–ˆê¸° ë•Œë¬¸)
    2. 120ê°œì˜ ì˜í™” ì¤‘ì—ì„œ 12ê°œë¥¼ ëœë¤ìœ¼ë¡œ ì¶”ì¶œ
    3. 12ê°œì˜ ì˜í™”ê°€ ê¸°ì¡´ DBì— ì—†ë‹¤ë©´ DBì— ì €ì¥í•´ì¤Œ (DBì— ì—†ìœ¼ë©´ ì˜í™” Detail í˜ì´ì§€ì— ì •ë³´ë¥¼ ë…¸ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸)
    4. ë©”ì¸í˜ì´ì§€ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ 12ê°œì˜ ìµœì‹  ì˜í™”ë“¤ì„ ë³´ì—¬ì¤Œ
    
- ì˜¤ëŠ˜ì˜ ì˜í™” ì¶”ì²œ
    
    ![today](https://user-images.githubusercontent.com/67399771/203859778-1128db4f-e857-4c2f-9540-192c524257ea.png)
    
    - <ì•Œê³ ë¦¬ì¦˜>
        1. í˜„ì¬ ë‚ ì§œ (ex) 20221124) intí™”í•˜ì—¬ ì¼ì •í•œ ì‹ì„ ë§Œë“  ë’¤ ì´ì™€ ê°€ì¥ ê·¼ì ‘í•œ movie_idë¥¼ ì¶”ì²œí•´ì¤Œ

- ë‚˜ë§Œ ë‹¹í•  ìˆ˜ ì—†ì§€ ì˜í™” ì¶”ì²œ (ì´ëŸ° ì˜í™”ë„ ìˆì–´ìš”!)
    
    ![worst](https://user-images.githubusercontent.com/67399771/203859781-1a4b0ed6-be1b-475e-836e-8ae305119dde.png)
    
    - <ì•Œê³ ë¦¬ì¦˜>
        1. DBì—ì„œ popularityê°€ 20 ë¯¸ë§Œ,  vote_averageê°€ 5.5 ë¯¸ë§Œì¸ ì˜í™”ë“¤ì„ ë½‘ì•„ì„œ 1ê°œë¥¼ ëœë¤ìœ¼ë¡œ ì¶”ì²œí•´ì¤Œ

- ì˜í™” ê²€ìƒ‰ ê¸°ëŠ¥
    - ê¸€ìë‹¨ìœ„ë¡œ ê²€ìƒ‰ê°€ëŠ¥

![search](https://user-images.githubusercontent.com/67399771/203859763-5edff17f-c7fc-4ac1-aab2-414a5584d8b1.png)

![search2](https://user-images.githubusercontent.com/67399771/203859766-24ef5c71-813c-4108-b093-02302b96adfa.png)



- í”„ë¡œí•„ í˜ì´ì§€
    - í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥
    - ë‚´ê°€ ì¢‹ì•„ìš”í•œ ì˜í™” ëª©ë¡
    - ë‚´ê°€ ì‘ì„±í•œ ë¦¬ë·° ëª©ë¡

![profile1](https://user-images.githubusercontent.com/67399771/203859761-73b9c771-de3b-42e1-86ef-212ab7a15209.png)

![profileimage](https://user-images.githubusercontent.com/67399771/203859762-bbac6207-56ab-43c0-aaee-b1e12ffa1a21.png)


---

### ğŸ“— ëŠë‚€ì 

- ì†ë¯¼í˜
    1. ì•Œê³ ë¦¬ì¦˜
        - ì§€ê¸ˆê¹Œì§€ ë°°ì› ë˜ êµìœ¡ë“¤ê³¼ ì•Œê³ ë¦¬ì¦˜ì´ êµ‰ì¥íˆ ë™ë–¨ì–´ì ¸ìˆë‹¤ê³  ëŠê»´ì¡Œì—ˆë‹¤.  ê·¸ëŸ¬ë‚˜ ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ë“¤ì„ ì„¤ê³„í•˜ë©´ì„œ â€˜ë°ì´í„°ê°€ ë” ë§ì•„ì§„ë‹¤ë©´?â€™ â€˜ì‹œê°„ì„ ë” ë‹¨ì¶•ì‹œì¼œì•¼í•œë‹¤ë©´?â€™ ê³¼ ê°™ì€ ì§ˆë¬¸ë“¤ì„ ìê¾¸ ë˜ì ¸ë³´ê²Œ ë˜ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ ê³µë¶€ì˜ í•„ìš”ì„±ì„ í™•ì¸í•˜ëŠ” ê³„ê¸°ê°€ ë˜ì—ˆë‹¤. ê¾¸ì¤€íˆ ê³µë¶€í•´ë‚˜ê°€ì•¼ê² ë‹¤.
    2. ê¸°íš
        - ì´ˆë°˜ ê¸°íšì„ ì˜í•´ì•¼ì§€ ê°œë°œ ë‹¨ê³„ì—ì„œ ëœ í—¤ë§¨ë‹¤ëŠ” ì´ì•¼ê¸°ë¥¼ ë“¤ì–´ì„œ ê¸°íš ë‹¨ê³„ì— ê³µì„ ë§ì´ ë“¤ì´ë ¤í–ˆì§€ë§Œ, ê°œë°œ ì§€ì‹ì´ ë¶€ì¡±í•´ì„œ ê¸°íšì„ ì™„ë²½í•˜ê²Œ í•˜ê³  ì‹œì‘í•  ìˆ˜ê°€ ì—†ì—ˆë‹¤. ì´ëŸ¬í•œ í”„ë¡œì íŠ¸ë“¤ì„ ë§ì´ ê²½í—˜í•˜ê³  ë” ê³µë¶€í•´ë‚˜ê°€ë©´ì„œ ê¸°íš ë‹¨ê³„ì—ì„œ ì¢€ ë” ê¼¼ê¼¼í•˜ê²Œ ì„¤ê³„í•˜ê³  ì‹¶ë‹¤.
    3. ê³µë¶€ë°©ë²•
        - ì´ì „ê¹Œì§€ êµì¬ë¥¼ ë³´ê³  ì½”ë“œë¥¼ ë”°ë¼ì¹˜ë©´ì„œ ë‚´ê°€ ì•ˆë‹¤ê³  ìƒê°í–ˆë˜ ì§€ì‹ë“¤ì´ ë§‰ìƒ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ë‹ˆ ë‚´ê²ƒì´ ì•„ë‹˜ì„ ê¹¨ë‹¬ì•˜ë‹¤. ì¼ë ¨ì˜ ê³¼ì •ì™€ ì´ìœ ë¥¼ ì´í•´í•˜ì§€ ëª»í•˜ë©´ í”„ë¡œì íŠ¸ ì•ˆì—ì„œ í—¤ë§¬ ìˆ˜ë°–ì— ì—†ìŒì„ ì•Œì•˜ë‹¤. ë‹¨ìˆœ ì´ë¡  ê³µë¶€ë„ í•„ìš”í•˜ê² ì§€ë§Œ, ì—­ì‹œ ë¬´ì–¸ê°€ ë§Œë“¤ì–´ë³´ë©´ì„œ ê³µë¶€í•˜ëŠ” ë°©ë²•ì´ ìµœê³ ì¸ ê²ƒ ê°™ë‹¤.
    4. ì—ëŸ¬
        - ì—ëŸ¬ë¥¼ ë§ˆì£¼í•  ë•Œ ìš°ë¦¬ ìŠ¤ìŠ¤ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•œ ë•Œë„ ìˆì—ˆê³ , ë°˜ ì¹œêµ¬ë“¤ì˜ ë„ì›€ì„ ì–»ì–´ í•´ê²°í–ˆë˜ ì ë„ ìˆì—ˆë‹¤. ê·¸ë ‡ì§€ë§Œ ì—­ì‹œ ìŠ¤ìŠ¤ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ìœ¼ë©° ì´ìœ ë¥¼ ê³ ë¯¼í•˜ê³  ë¬¸ì œë¥¼ ì°¾ì•˜ì„ ë•Œ ì„±ì·¨ê°ì´ í¬ê³ , ë” ê¸°ì–µì— ì˜¤ë˜ë‚¨ëŠ” ê²ƒ ê°™ë‹¤. ì—ëŸ¬ì—ì„œ ì˜¤ëŠ” ìŠ¤íŠ¸ë ˆìŠ¤ëŠ” í•„ì—°ì ì´ê² ì§€ë§Œ ì´ë¥¼ í†µí•´ ë” ì„±ì¥í•  ìˆ˜ ìˆìŒì„ ê¸°ì–µí•˜ê³  ê¸ì •ì ì¸ ë§ˆìŒì„ ê°€ì ¸ì•¼ê² ë‹¤.
    5. ì‹œê°„ ì••ë°•
        - ë§ˆê°ì¼ì´ ì¡´ì¬í•˜ëŠ” ìƒí™© ì†ì—ì„œ ì¡°ê¸‰í•´ì§€ëŠ” ìŠ¤ìŠ¤ë¡œë¥¼ ë³¼ ìˆ˜ ìˆì—ˆë‹¤. ê²°ê³¼ë¬¼ì„ ë‚´ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ì§€ë§Œ ì •í•´ì§„ ì‹œê°„ ì†ì—ì„œ ì¼ì •ì„ ì˜ ì§œê³  ì‹¤í–‰í•˜ëŠ” ê²ƒ ë˜í•œ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ëŠê¼ˆë‹¤. ì•„ë§ˆ ì‹¤ë¬´ì— ê°€ë©´ í•­ìƒ ë°ë“œë¼ì¸ì´ ì¡´ì¬í•  ê²ƒì´ê³  ì´ ì‹œê°„ ì••ë°•ì€ í”„ë¡œì íŠ¸ë§ˆë‹¤ ìˆ˜ë°˜ë  ê²ƒì´ê¸°ì— ì´ë¥¼ ì˜ ê´€ë¦¬í•˜ëŠ” ì—°ìŠµë„ í•„ìš”í•  ê²ƒ ê°™ë‹¤.
  
- ì´ì˜ˆì§„ : ì²˜ìŒì—ëŠ” ìµœì¢… í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¶€ë‹´ê°ì´ ìƒë‹¹í–ˆìŠµë‹ˆë‹¤. ì‹¸í”¼ì—ì„œ ë°˜ë…„ë™ì•ˆ ë§ì€ ê²ƒë“¤ì„ ê³µë¶€í–ˆì§€ë§Œ ì‹¤ì œ ì›¹í˜ì´ì§€ë¥¼ êµ¬í˜„í•˜ë©° ì–´ë–»ê²Œ ì ìš©í•  ìˆ˜ ìˆì„ì§€, íŠ¹íˆ í”„ë¡œì íŠ¸ ì§ì „ì— ë°°ìš´ ì¥ê³ ì™€ ë·°ë¥¼ í•¨ê»˜ ì“°ëŠ” ë°©ë²•ì´ ì–´ë ¤ì›Œì„œ ê±±ì •ì„ ë§ì´ í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë§¤ì£¼ í•´ì™”ë˜ ê´€í†µ í”„ë¡œì íŠ¸ì—ì„œ í–ˆë˜ ê²ƒë“¤ì´ ë„ì›€ì´ ë§ì´ ë˜ì—ˆê³  ê·¸ë™ì•ˆ ë°°ì› ë˜ ê²ƒë“¤ì´ ì–´ë–»ê²Œ ì“°ì´ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë˜ í’€ë¦¬ì§€ ì•ŠëŠ” ë¬¸ì œë“¤ì´ í˜ì–´ì™€ ë¨¸ë¦¬ë¥¼ ë§ëŒ€ì—ˆì„ ë•Œ í’€ë¦¬ê³ , ë‹¤ë¥¸ íŒ€ë“¤ê³¼ë„ ë°©ë²•ì„ ê³µìœ í•˜ë©° ê°œë°œì—ì„œì˜ í˜‘ì—…ì„ ê²½í—˜í•˜ëŠ” ì¢‹ì€ ê¸°íšŒê°€ ë˜ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì €ì˜ ë¶€ì¡±í•œ ì ì— ëŒ€í•´ì„œë„ ê¹¨ë‹«ê³  ì–´ëŠ ë¶€ë¶„ì„ ë” ê³µë¶€í•˜ê³  ì±„ì›Œì•¼í•˜ëŠ”ì§€ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë°±ë³´ë‹¤ í”„ë¡ íŠ¸ë¥¼ ì„ í˜¸í•´ cssì— ë§ì€ ì‹œê°„ì„ ë“¤ì˜€ì§€ë§Œ, ì •ì‘ ì œëŒ€ë¡œ ì•Œì§€ ëª»í•˜ê³  ì“°ëŠ” ê²ƒë“¤ì´ ë„ˆë¬´ë‚˜ ë§ì•˜ìŠµë‹ˆë‹¤. ë°±ì—ì„œë„ ì €ì˜ ì½”ë”© ì‹¤ë ¥ì´ ê¸°íšì„ ë”°ë¼ê°€ì§€ ëª»í•´ì„œ ë§ì´ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤. ê³„ì ˆí•™ê¸°ì™€ ë°©í•™ì„ ì´ìš©í•´ ë¶€ì¡±í•œ ì ì„ ì±„ì›Œì„œ 2í•™ê¸°ì—ëŠ” ë” ì¢‹ì€ í”„ë¡œì íŠ¸ ê²°ê³¼ë¬¼ì„ ë‚¼ ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤.

---

### ğŸ’¡ìš°ë¦¬ë“¤ì˜ ì—ëŸ¬ ëª©ë¡

- <ë¬¸ì œ 1> modelsì™€ serializersì˜ ê´€ê³„. DBë¥¼ ê°€ì ¸ì˜¬ ë•Œ modelsì˜ í•„ë“œ ëª©ë¡ì„ ê¸°ì¤€ìœ¼ë¡œ ê°€ì ¸ì™€ì•¼í•˜ëŠ”ì§€ ì•„ë‹ˆë©´ serializersì˜ í•„ë“œ ëª©ë¡ì„ ê¸°ì¤€ìœ¼ë¡œ ê°€ì ¸ì™€ì•¼í•˜ëŠ”ì§€?
    - modelì˜ í•„ë“œ ê¸°ì¤€ìœ¼ë¡œ ê°€ì ¸ì™€ì•¼í•œë‹¤. serialzierëŠ” ë§ ê·¸ëŒ€ë¡œ models ê¸°ì¤€ í•„ë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” DBë¥¼ frontì— ë³´ë‚´ì£¼ê¸° ìœ„í•œ í˜•íƒœë¡œ ë°”ê¾¸ì–´ì£¼ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì—.

- <ë¬¸ì œ 2> User model ì»¤ìŠ¤í„°ë§ˆì´ì§•
    - [https://docs.djangoproject.com/en/4.1/topics/auth/customizing/](https://docs.djangoproject.com/en/4.1/topics/auth/customizing/)
    1. [settings.py](http://settings.py)ì— `AUTH_USER_MODEL = accounts.User'
    
    ```python
    AUTH_USER_MODEL = 'accounts.User'
    ```
    
    1. accounts/models.pyì— ìƒì† (ì»¤ìŠ¤í„°ë§ˆì´ì§•)
    
    ```python
    from django.db import models
    from django.contrib.auth.models import AbstractUser
    
    # Create your models here.
    
    class User(AbstractUser):
        pass
    ```
    
- <ë¬¸ì œ 3: ì£¼ì €í•˜ëŠ” ë°ì´í„°ë¥¼ ìœ„í•´â€¦> : APIë¡œ ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ë¥¼ DB ì €ì¥í•˜ê³  fixtureì— ì €ì¥í•˜ëŠ” ë²•
1. models.pyì— ëª¨ë¸ì„ ë§Œë“¤ê³  ìì‹ ì´ ê°€ì ¸ì˜¬ í•„ë“œëª…ê³¼ ì ì ˆí•œ fieldí˜•ì‹ì„ ì ì–´ì¤€ë‹¤.

```python
# modles.py

class Movie(models.Model):
    movie_id = models.IntegerField()
    title = models.CharField(max_length=100)
    overview = models.TextField()
    popularity = models.FloatField()
    release_date = models.DateField()
    vote_average = models.FloatField()
    poster_path = models.CharField(max_length=300)
    genre_ids = models.TextField(null=True)  # ë¦¬ìŠ¤íŠ¸ì¸ë° ë‚˜ì¤‘ì— ë°”ê¿”ì£¼ê¸° ìœ„í•´ ì¼ë‹¨ ê·¸ëƒ¥ str í˜•íƒœë¡œ í•„ë“œ ì„¤ì •í•´ì¤Œ
		# genre_ids JSONFieldë¡œ í•´ì£¼ë©´ ê·¸ëƒ¥ í•´ê²°ë¨... (êµ³ì´ ê°œê³ ìƒí•˜ì§€ ë§ˆì„¸ìš”.. 11.18 ë¯¼í˜)
```

1. url â†’ [views.py](http://views.py)ì—ì„œ API ì£¼ì†Œë¡œ DBë¥¼ ê°€ì ¸ì˜¬ í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤

```python
import requests
import json
from .models import ëª¨ë¸ì´ë¦„

def get_movie(request):

    for i in range(1, 51):
        URL = 'https://api.themoviedb.org/3/movie/top_rated?api_key=a10047aa70542f33ac2138abb4e13bb7&language=ko-kr&page=' + str(i)

        print(i)  # ê·¸ëƒ¥ ì¶œë ¥ í™•ì¸ìš©
        response = requests.get(URL).json()
        movies = response['results']

        for movie in movies:
            added_movie = Movie(       
                movie_id = movie['id'],   
                title = movie['title'],
                overview = movie['overview'],
                release_date = movie['release_date'],
                popularity = movie['popularity'],
                vote_average = movie['vote_average'],
                poster_path = movie['poster_path'],
                genre_ids = json.dumps(movie['genre_ids']),  # ë¦¬ìŠ¤íŠ¸ë¥¼ strìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ê³¼ì • (JSONFieldë¡œ ê°€ì ¸ì˜¤ë©´ ì´ê±° dumps ì“¸ í•„ìš” x)
                # genre_names = json.dumps()
            )
            added_movie.save()

    return render(request, 'movies/') # ì´ê±´ ê·¸ëƒ¥ return í•˜ë ¤ê³  í–ˆë˜ê±°ë¼ êµ³ì´ ì‹ ê²½ ì•ˆ ì¨ë„ ë¨
```

1. ì´í›„ ì ì ˆí•œ ì„¤ì •í•œ urlë¡œ ì´ë™í•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê²Œ í•´ì£¼ë©´ DBì— ë°ì´í„°ë“¤ì´ ì¶”ê°€ëœë‹¤.
2. dump dataë¥¼ ì´ìš©í•´ì„œ fixtureì— json íŒŒì¼ì„ ìƒì„±í•´ì¤€ë‹¤.

```python
# ê¸°ì¡´ì— ì‚¬ìš©í•œ ì½”ë“œ (í•œê¸€ ì•ˆë¨)
python manage.py dumpdata --indent 2 movies.movie > movies.json

# ìƒˆë¡­ê²Œ ì‚¬ìš©í•œ ì½”ë“œ (ì´ë ‡ê²Œ í•˜ë©´ í•œê¸€ê¹Œì§€ ë¨) ---> ì ê·¹ ì‚¬ìš© ê¶Œì¥
python -Xutf8 ./manage.py dumpdata --indent 2 movies.movie > movies.json
```

1. .json íŒŒì¼ì—ì„œ `""` ë¡œ ê°ì‹¸ì ¸ìˆëŠ” genre_ids (ë¦¬ìŠ¤íŠ¸)ì˜ â€œâ€ë¥¼ ë‹¤ í’€ì–´ì¤€ë‹¤.  (Ctrl + D) ì‚¬ìš©í•´ë¼â€¦
2. ê·¸ë¦¬ê³  ë‹¤ì‹œ ë°›ì•„ì˜¬ ë•Œ genre_ids í•„ë“œê°€ textFieldë¡œ ë˜ì–´ ìˆìœ¼ë©´ ë˜ strìœ¼ë¡œ ë°”ë€Œì–´ë²„ë¦¬ë‹ˆ JSONFieldë¡œ ì„¤ì •í•´ì£¼ë©´ loaddataí•  ë•Œ ì •ìƒì ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¡œ loadë¨

- <ë¬¸ì œ 4> : í•´ë‹¹ movieì— ëŒ€í•œ reviewë¥¼ ì‘ì„±í•˜ë ¤ê³  í•˜ëŠ”ë° ìê¾¸ movieì— ëŒ€í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì•¼í–ˆë‹¤.
    - ì´ ê²½ìš° [serializers.py](http://serializers.py)ì— read_only_fieldsë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤!!!
    
    ```python
    class ReviewSerializer(serializers.ModelSerializer):
    
        class Meta:
            model = Review
            fields = '__all__'
            read_only_fields = ('movie',)
    ```
    
- <ë¬¸ì œ 5> : ë¦¬ë·°ë¥¼ ìƒì„±í•˜ìë§ˆì ì¶œë ¥ë˜ê²Œ í•˜ëŠ” ë°©ë²•
1. ë¦¬ë·°ë¥¼ createí•˜ë©´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì¸ Detailviewì— emitìœ¼ë¡œ ì‹ í˜¸ë¥¼ ë³´ë‚¸ë‹¤
2. Detailviewì—ì„œ ì‹ í˜¸ë¥¼ ë°›ìœ¼ë©´ getReviewsí•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì„œ axiosë¡œ í•´ë‹¹ ì˜í™” ë¦¬ë·°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤
3. ReviewListë¡œ reviews ë¦¬ìŠ¤íŠ¸ë¥¼ prop í•´ì¤€ë‹¤
4. ReviewListì—ì„œ ReviewListItemìœ¼ë¡œ v-forë¬¸ì„ ëŒë©´ì„œ reviewê°ì²´ë¥¼ í•˜ë‚˜ì”© propí•´ì¤˜ì„œ ì¶œë ¥í•œë‹¤

```python
# ReviewCreate
methods: {
    createReview() {
      const content = this.content
      if (!content) {
        alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”')
        return 
      } 

      axios({
        method: 'post',
        url: `${API_URL}/movies/${this.$route.params.id}/reviewcreate/`,
        data: { content },
      })
        .then((res) => {
          console.log(res)
          this.$emit('createReview')
          this.content = null
        })
        .catch((err) => {
          console.log(err)
        })
    }

# DetailView
<ReviewCreate @createReview="getReviews"/>
<ReviewList :reviews="reviews"/>

data() {
    return {
      movie: null,
      reviews: [],
    }
  },
created() {
    this.getMovieDetail()
    this.getReviews()
  },
methods: {
	getReviews() {
      axios({
        method: 'get',
        url: `${API_URL}/movies/${this.$route.params.id}/reviews/`,
      })
        .then((res) => {
          console.log(res.data)
          this.reviews = res.data
        })
        .catch((err) => {
          console.log(err)
        })

# ReviewList
props: {
    reviews: Array,
  }

# ReviewListItem
props: {
    review: Object,
  },
```

- <ë¬¸ì œ 6> : ë¦¬ë·° ì‚­ì œí•  ë•Œ í•œ ê°œ ë‚¨ì•˜ì„ ë•Œ ì˜¤ë¥˜ê°€ ëœ¬ë‹¤. ì–´ë–»ê²Œ í•´ê²°í•˜ë‚˜?
    - ë¨¼ì € emit â†’ emitì„ í•´ì¤˜ì„œ detailì´ v-onìœ¼ë¡œ getreview ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ê²Œ í•œë‹¤!!!
    - ë§ˆì§€ë§‰ í•œ ê°œê°€ ë‚¨ì•˜ì„ ë•Œ delete í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ì‚­ì œë˜ê³  detailì—ì„œ getreview ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ ë¦¬ë·°ê°€ ë”ì´ìƒ ì—†ê¸° ë•Œë¬¸ì— 404ì—ëŸ¬ê°€ ëœ¬ë‹¤.
    - ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì´ì˜ˆì§„ì€ ì•„ë˜ì™€ ê°™ì´  404ì—ëŸ¬ê°€ ë°œìƒí•  ì‹œì— ë¦¬ë·°ì— null ê°’ì„ ë„£ì–´ì£¼ì–´ í•´ê²°í•´ë²„ë ¸ë‹¤ëŠ” í•´í”¼ì—”ë”©~~~
    
    ```python
    
    ---- listitem.vue ---- 
    methods: {
        deleteReview() {
          axios({
            method: 'delete',
            url: `${API_URL}/movies/${this.$route.params.id}/reviews/${this.review.id}`,
            headers: {
                Authorization: `Token ${ this.$store.state.token }`
            }
          })
            .then((res) => {
              console.log(res)
              **this.$emit('deleteReview')**
    
    --- list.vue----
    <template>
      <div>
        <p v-if="!reviews">ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤</p>
        <ReviewListItem
          v-for="review in reviews"
          :key="review.id"
          :review="review"
          **@deleteReview="deleteReview"**
        />
      </div>
    </template>
    
    ---- detail.vue ----
    
    <template>
      <div>
        **<ReviewList :reviews="reviews" @deleteReview="getReviews"/>**
      </div>
    </template>
    	
    
    getReviews() {
          axios({
            method: 'get',
            url: `${API_URL}/movies/${this.$route.params.id}/reviews/`,
          })
            .then((res) => {
              // console.log(res.data)
              this.reviews = res.data
            })
            **.catch((err) => {
              if (err.response.status === 404) {
                this.reviews = null**
              }
            })
        }
      }
    ```
    

- <ë¬¸ì œ 7>: ì¥ê³ ì—ì„œ likeí•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œì„œ ì¢‹ì•„ìš” ì—¬ë¶€ë¥¼  true/falseë¡œ ë³€ê²½ì‹œí‚¤ê³  ì–´ë””ë¡œ ë³´ë‚´ì•¼í• ì§€ ëª°ëë‹¤.. (ì™œëƒë©´ ê¸°ì¡´ì—ëŠ” serialzierë¥¼ ì‚¬ìš©í•´ì„œ ì „ë¶€ ë‹¤ Response ë³´ëƒˆê¸° ë•Œë¬¸ì—..)
    - ê·¸ëƒ¥ contextì— ìš°ë¦¬ê°€ ë³´ë‚´ê³ ìí•˜ëŠ” ì •ë³´ë¥¼ ë„£ì€ ë‹¤ìŒì— Responseë¡œ ë³´ë‚´ì£¼ì—ˆë‹¤.
    - ê·¸ëŸ¬ë©´ Vueì—ì„œ axios ìš”ì²­ìœ¼ë¡œ í•´ë‹¹ urlì„ ê°€ì ¸ì™€ì„œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ .then ì•ˆì˜ responseì—ì„œ contextì˜ ì •ë³´ë“¤ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤!!!
    
    ```python
    @api_view(['POST'])
    @permission_classes([IsAuthenticated])
    def review_likes(request, movie_pk, review_pk):
        review = Review.objects.get(pk=review_pk)
    
        if review.like_users.filter(pk=request.user.pk).exists():
            review.like_users.remove(request.user)
            is_like = False
        else:
            review.like_users.add(request.user)
            is_like = True
    
        **context = {
            'is_like': is_like,
        }
        return Response(context)**
    ```
    

- <ë¬¸ì œ 8> : ëª¨ë¸ì— ìƒˆë¡œìš´ í•„ë“œë¥¼ ì¶”ê°€í–ˆì„ ë•Œ ìƒˆë¡œìš´ ë¦¬ë·°ê°€ ë§Œë“¤ì–´ì§€ì§€ ì•Šì•˜ë‹¤. (userëª¨ë¸ ì¶”ê°€, like_usersëª¨ë¸ ì¶”ê°€í–ˆì„ ë•Œ)
    - serializers.pyì—ì„œ read_only_fieldsì— í•´ë‹¹ í•„ë“œë¥¼ ì¶”ê°€í•´ì£¼ë©´ í•´ê²°!!
    
    ```python
    
    ---serializers.py---
    
    class ReviewSerializer(serializers.ModelSerializer):
    
        class Meta:
            model = Review
    
            fields = '__all__'
            **read_only_fields = ('movie', 'user', 'like_users',)**
    ```
    

- <ë¬¸ì œ 9> : ë¡œê·¸ì¸ í•œ ìœ ì €ì˜ [user.pk](http://user.pk)ë¥¼ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ëŠ”ì§€?
    - ì¥ê³ ì—ì„œ accounts/userì— í† í°ê³¼ í•¨ê»˜ ë³´ë‚´ì£¼ë©´ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤!!!
    
    ```
    
    <script>
    import axios from 'axios'
    
    const API_URL = 'http://127.0.0.1:8000'
    
    export default {
      name: 'ReviewListItem',
      data() {
        return {
          userId: null,
        },
      created() {
        this.getId()
      },
      methods: {
        getId() {
          axios({
            method: 'get',
            url: `${API_URL}/accounts/user`,
            headers: {
                Authorization: `Token ${ this.$store.state.token }`
            }
          })
            .then((res) => {
              this.userId = res.data.pk
            })
            .catch((err) => {
              console.log(err)
            })
        }
      }
    }
    </script>
    ```
    

- <ë¬¸ì œ 10 â˜… ëŒ€ì¥ì—ëŸ¬> : í•´ë‹¹ ë¦¬ë·°ì— ìœ ì €ê°€ ì¢‹ì•„ìš” í–ˆëŠ”ì§€ ì•ˆ í–ˆëŠ”ì§€ ì–´ë–»ê²Œ ì´ˆê¸° í™”ë©´ì—ì„œ ë…¸ì¶œì‹œì¼œì¤„ ìˆ˜ ìˆëŠ”ì§€?
    - creatd í•  ë•Œ get_id ë©”ì„œë“œë¥¼ ì¨ì„œ ë¡œê·¸ì¸ëœ  userëœ idë¥¼ ë¶ˆëŸ¬ì™”ë‹¤.
    - computedì—ì„œ isLikeí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ í•´ê²°í–ˆë‹¤.
        - ë¶€ê°€ ì„¤ëª…ìœ¼ë¡œ í•´ë‹¹ ë¦¬ë·°ë¥¼ ì¢‹ì•„ìš” í•œ ëª¨ë“  ëª©ë¡ì—ì„œ í˜„ì¬ ìœ ì € ì•„ì´ë””ê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼  includesë¥¼ ì‚¬ìš©í•´ì„œ í™•ì¸í•´ì„œ ì´ˆê¸°ê°’ì„ í…œí”Œë¦¿ì— ë…¸ì¶œì‹œì¼°ë‹¤. (í•´í”¼)
            - ì¡°ê¸ˆ ë” ì„¤ëª…í•˜ìë©´ setters ì–´ì©Œêµ¬ ì—ëŸ¬ê°€ ë– ì„œ isLike í•˜ìœ„êµ¬ì¡°ë¥¼  get()ê³¼ set()ìœ¼ë¡œ êµ¬ë¶„í•´ì£¼ì—ˆë”ë‹ˆ ì—ëŸ¬ê°€ ì‚¬ë¼ì ¸ë²„ë ¸ë‹¤~~~
            
- <ë¬¸ì œ 11 â˜… ëŒ€ì¥ì—ëŸ¬> : ì´ë²ˆì—ëŠ” ì´ˆê¸°ê°’ì„ ì˜ ë°›ì•„ì˜¤ê³  ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì €ì¥ëœ ê°’ì€ ì˜  TRUE/FALSEë¡œ ë°”ë€ŒëŠ”ë° í™”ë©´ì€ ì¢‹ì•„ìš”/ì¢‹ì•„ìš”ì·¨ì†Œê°€ ë°”ë€Œì§€ê°€ ì•Šì•„ì„œ ë¯¸ì¹  ë…¸ë¦‡ì´ì—ˆë‹¤. (2ì‹œê°„ ì†Œëª¨)
    - ì´ë¥¼ ìœ„í•´ ìˆ˜ë§ì€ ë™ì§€ë“¤ì„ ì†Œí™˜í–ˆë‹¤. ê³ ë³‘ë”°ê±°, ë™ì¤€ì¢Œ, ìµœí›„ì˜ ìˆ˜ë‹¨ ë°ì´ë¹„ë“œìœ ..
    - ê²°êµ­    **`:id="'like-btn-' + review.id"`** idê°’ì„ **``${}`** `ì´ë”°êµ¬ë¡œ ì•ˆì£¼ê³  ì™¼ìª½ ê°™ì´ ì£¼ì—ˆë”ë‹ˆ í•´ê²°ë˜ì—ˆë‹¤...

```python
<template>
  <div>
    <span>{{ review.content }}</span>
    <button @click="deleteReview">ì‚­ì œ</button>
    <button
      **:id="'like-btn-' + review.id"**
      v-if="!isLike" @click="reviewLike">ì¢‹ì•„ìš”</button>
    <button 
      **:id="'like-btn-' + review.id"**
      v-if="isLike" @click="reviewLike">ì¢‹ì•„ìš” ì·¨ì†Œ</button>
  </div>
</template>

export default {
  name: 'ReviewListItem',
  data() {
    return {
      **userId: null,**
    }
  },
  props: {
    review: Object,
  },
  created() {
    this.getId()
  },
  **computed: {**
    **isLike: {**
      **get() {**
        **return this.review.like_users.includes(this.userId)**
      },
      **set() {**

      }
    }
  },
  methods: {
    deleteReview() {
      axios({
        method: 'delete',
        url: `${API_URL}/movies/${this.$route.params.id}/reviews/${this.review.id}`,
        headers: {
            Authorization: `Token ${ this.$store.state.token }`
        }
      })
        .then((res) => {
          console.log(res)
          this.$emit('deleteReview')
        })
        .catch((err) => {
          console.log(err)
        })
    },
    reviewLike() {
      axios({
        method: 'post',
        url: `${API_URL}/movies/${this.$route.params.id}/reviews/${this.review.id}/likes/`,
        headers: {
            Authorization: `Token ${ this.$store.state.token }`
        }
      })
        .then((res) => {
          console.log(res)
          **const likeBtn = document.querySelector(`#like-btn-${this.review.id}`);**
          console.log(likeBtn)

          **if (res.data.is_like === true) {
            likeBtn.innerText = 'ì¢‹ì•„ìš” ì·¨ì†Œ'
          } else {
            likeBtn.innerText = 'ì¢‹ì•„ìš”'**
          }
        })
        .catch((err) => {
          console.log(err)
        })
    },
    getId() {
      axios({
        method: 'get',
        url: `${API_URL}/accounts/user`,
        headers: {
            Authorization: `Token ${ this.$store.state.token }`
        }
      })
        .then((res) => {
          this.userId = res.data.pk
        })
        .catch((err) => {
          console.log(err)
        })
    }
  }
}
```

- <ë¬¸ì œ 12> : MovieListItemì—ì„œ axiosìš”ì²­ìœ¼ë¡œ userIdë¥¼ ë°›ì•„ì˜¤ë©´ DBì— 1000ê°œì˜ ì˜í™”ê°€ ìˆì–´ì„œ ì—„ì²­ë‚œ ì‹œê°„ì´ ê±¸ë¦°ë‹¤. (ë„ˆë¬´ ë¹„íš¨ìœ¨ì  - ìœ ì € ì•„ì´ë””ëŠ” ë‹¤ ë˜‘ê°™ì€ë° ì˜í™” idì— ë”°ë¼ì„œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì—)
    - ì¦‰, ë§¤ë²ˆ axiosìš”ì²­ì„ í•˜ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ì•Šê³  store.stateì— ì €ì¥í•˜ëŠ” ê²ƒì´ ë§ë‹¤ê³  ìƒê°í–ˆìŒ! (í•œ ë²ˆë§Œ ë°›ì•„ì˜¤ëŠ”ê²Œ)
        - ê·¸ë¦¬ê³  ì´ ê³¼ì •ì—ì„œ ë¡œê·¸ì¸ì´ ëœ ì´í›„ì— ì•„ì´ë””ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ëŠ”ë° ë™ì‹œì— ì‹¤í–‰ë˜ê±°ë‚˜ ì•„ì´ë””ë¥¼ ê°€ì ¸ì˜¤ëŠ” getId í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ ì—ëŸ¬ê°€ ëœ¬ë‹¤.
        - ê·¸ë˜ì„œ axios ì•ˆì—ì„œ thenìœ¼ë¡œ êµ¬ë¶„í•´ì¤˜ì„œ ë™ê¸°ì‹ìœ¼ë¡œ ë°˜ë“œì‹œ ë¡œê·¸ì¸ì„ ë§ˆì¹œ ë’¤ì— userIdë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ í•´ì£¼ì—ˆë‹¤.
    
    ```jsx
    
    --- store/index.js ---
    
    logIn(context, payload) {
          axios({
            method: 'post',
            url: `${API_URL}/accounts/login/`,
            data: {
              username: payload.username,
              password: payload.password
            }
          })
            **.then((res) => {
              context.commit('SAVE_TOKEN', res.data.key)
            })
            .then(() => {
              context.dispatch('getId')
            })**
    
    ```
    

- <ë¬¸ì œ 13> : í•œ v-on eventì— ëŒ€í•´ ë‘ ê°œì˜ ë©”ì„œë“œ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ë°©ë²• (ê¸°ì¡´ì—ëŠ” í•œ ë©”ì„œë“œì—ì„œ ë‘ê°œì˜ ë™ì‘ì´ ì‹¤í–‰ ì•ˆëì—ˆìŒ - ì™œì¸ì§€ëŠ” ëª¨ë¦„~~)
    - ì´ë²¤íŠ¸ë³„ë¡œ `,`ë¡œ êµ¬ë¶„í•´ì£¼ë©´ ë¨
    - ê·¸ëŸ¬ë‚˜ ì„ í›„ ìˆœì„œê´€ê³„ê°€ ì¤‘ìš”í•œ ë©”ì„œë“œì˜ ê²½ìš°ì—ëŠ” ë°”ëŒì§í•˜ì§€ ì•ŠìŒ (ë°˜ë“œì‹œ ë™ê¸°ì‹ìœ¼ë¡œ í‘œí˜„ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸) - ìœ„ì˜ <ë¬¸ì œ 1> ê°™ì´â€¦
    
    ```jsx
    <template>
        <main>
            **<button type="button" @click="event1(), event2()">ë‹¤ì¤‘ì´ë²¤íŠ¸ë²„íŠ¼</button>**
        </main>
    </template>
    <script>
    export default {
        name: '',
        components: {},
        methods: {
            event1() {
                alert('event1')
            },
            event2() {
                alert('event2')
            }
        }
    }
    </script>
    ```
    

- <ë¬¸ì œ 14> : Detailê³¼ MovieListItem ì—ì„œ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥´ë©´ axiosìš”ì²­ì„ í†µí•´ì„œ ì •ìƒì ìœ¼ë¡œ back dbê°€ ë³€ê²½ë˜ì—ˆì§€ë§Œ MovieViewë¡œ ê°€ë©´ ì´ˆê¸°í™”ëœ í”„ë¡ íŠ¸í™”ë©´ì´ì—ˆë‹¤. (ê·¸ëŸ°ë° ì •ì‘ DBì—ëŠ” true / falseê°€ ì˜ ë°”ë€Œì–´ìˆì—ˆìŒ)
    - ë¬¸ì œëŠ” ìš°ë¦¬ê°€ like_user í•„ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì—ì„œ serializer fieldì— í¬í•¨ì‹œí‚¤ì§€ ì•Šì•˜ë‹¤. (ê·¸ë˜ì„œ ê·¸ëƒ¥ â€˜__all__â€™ë¡œ ì˜ˆì§„ì´ê°€ ë°”ê¾¸ì–´ë²„ë¦¼) ì¦‰, ë°±ì˜ dbë¥¼ serializersë¥¼ í†µí•´ ë°›ì•„ì˜¬ ë•Œ íŠ¹ì • í•„ë“œëŠ” ë°›ì•„ì˜¤ì§€ ì•Šê³  ìˆë˜ ê²ƒì´ì—ˆë‹¤!!!!!!!!!!
        - ì˜¤ë¥˜ë¥¼ ì¡ì•„ë‚¸ ë°©ë²•ì€ movieListItemì˜ computed - isLikeì—ì„œ `console.log(this.movie`  ë¥¼ ì°ì—ˆë”ë‹ˆ like_usersë¼ëŠ” í•„ë“œëª…ì´ ë‚˜ì˜¤ì§€ ì•Šì•˜ë‹¤. (ê¸°ì¡´ fieldsì— â€˜titleâ€™, â€˜idâ€™ ì´ëŸ°ê±° ë°–ì— ì—†ì—ˆê¸° ë•Œë¬¸)
        
        ```jsx
        class MovieSerializer(serializers.ModelSerializer):
        
            class Meta:
                model = Movie
        
                **fields = '__all__'  // (ì›ë˜ëŠ” fields = '~~~' ì´ëŸ°ì‹ì´ì—ˆìŒ)**
        ```
        

- <ë¬¸ì œ 15> reviewlistitem ëª©ë¡ì—ì„œ ì‘ì„±ìì˜ ì´ë¦„ì„ ë„ìš°ê³  ì‹¶ì€ë° ì‘ì„±ìì˜ usernameì„ ë°›ì•„ì˜¤ë ¤ë©´ í•´ë‹¹ urlì´ ì¥ê³ ì—ì„œ ì• ì´ˆì— í•„ìš”í•´ì„œ ë©˜ë¶•ì´ì—ˆìŒ. (ì‘ì„±ìì˜ ì´ë¦„ì„ í´ë¦­í•˜ë©´ ì‘ì„±ìì˜ profile í˜ì´ì§€ë¡œ ê°€ê³  ì‹¶ì—ˆê¸° ë•Œë¬¸â€¦)
    - ì ˆë§ì†ì—ì„œ ì•„ê¸°ê³ ì–‘ì´ë¥¼ ì°¾ì•„ê°
    - ê·¸ì˜ ì•¼ë§¤ëŠ” í™˜ìƒì ì´ì—ˆë‹¤. ì• ì´ˆì— reviewë¥¼ ìƒì„±í•  ë•Œ modelì— usernameì„ ë„£ì–´ì£¼ë©´ ë˜ëŠ” ê±°ì˜€ë‹¤!!!!!
    - special ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ to ë™ì¤€ì¢Œâ€¦
    - ê·¼ë° ì†”ì§íˆ ì™œ frontì—ì„œëŠ” Review.userê¹Œì§€ë°–ì— ì•ˆë“¤ì–´ê°€ì§€ê³  ì—¬ê¸°ì„œëŠ” requests.user.usernameê¹Œì§€ ë“¤ì–´ê°€ì§€ëŠ”ì§€ ëª¨ë¥´ê² ìŒâ€¦
    
    ```jsx
    --- models.py ---
    
    class Review(models.Model):
        user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
        **username = models.CharField(max_length=100)**
        like_users = models.ManyToManyField(settings.AUTH_USER_MODEL, related_name="like_reviews")
        movie = models.ForeignKey(Movie, on_delete=models.CASCADE)
        content = models.TextField()
        created_at = models.DateTimeField(auto_now_add=True)
        updated_at = models.DateTimeField(auto_now=True)
    
    --- serializers.py ----
    
    class ReviewSerializer(serializers.ModelSerializer):
    
        class Meta:
            model = Review
    
            fields = '__all__'
            read_only_fields = ('movie', 'user', **'username'**, 'like_users',)
    
    --- views.py ---
    
    @api_view(['POST'])
    @permission_classes([IsAuthenticated])
    def review_create(request, movie_pk):
        movie = get_object_or_404(Movie, pk=movie_pk)
        user = request.user
        **username = request.user.username   # ì´ëŸ°ì‹ìœ¼ë¡œ ìœ ì €ë„¤ì„ ë°›ì•„ì˜¤ë©´ ë¨ ì•„ë§ˆ ìƒì†ë°›ì€ ëª¨ë¸ í•„ë“œê°€ ì´ë ‡ê²Œ ë˜ì–´ìˆëŠ”ë“¯**
        serializer = ReviewSerializer(data=request.data)
        if serializer.is_valid(raise_exception=True):
            serializer.save(movie=movie, user=user, **username=username**)
            return Response(serializer.data, status=status.HTTP_201_CREATED)
    
    ```
    

- <ë¬¸ì œ 16> axios ìš”ì²­ ë³´ë‚¼ ë•Œ usernameì„ ì–´ë–»ê²Œ ë³´ë‚´ì¤˜ì•¼í• ì§€ ëª°ëë‹¤.
    - paramsë¥¼ urlì— ë„£ì–´ì£¼ì–´ ìš”ì²­í•´ì£¼ë©´ ë¨!! (ì†”ì§íˆ ì†ë¯¼í˜ì€ ì•„ì§ë„ ì´ê±° ì–´ë ¤ì›€ ê·¼ë° ê·€ì¸ ì´ì˜ˆì§„ì´ ê°œê³ ìˆ˜ì„ ã„·ã„· )
    - routerì— path :usernameì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„!! (params)
    
    ```jsx
    
    --- router / index.js ---
    {
        **path: '/profile/:username',**
        name: 'profile',
        component: ProfileView
      },
    
    --- profileView.vue ---
    methods: {
        getProfile() {
          axios({
            method: 'get',
            **url: `${API_URL}/accounts/profile/${this.$route.params.username}/`**
          })
            .then((res) => {
              // console.log(res.data)
              this.userData = res.data
            })
            .catch((err) => {
              console.log(err)
            })
    ```
    

- <ë¬¸ì œ 17> axiosìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ [views.py](http://views.py) í•¨ìˆ˜ì—ì„œ class Userë¥¼ JSONìœ¼ë¡œ ë°”ê¾¸ì§€ ëª»í•´ì„œ ê³„ì† ì—ëŸ¬ê°€ ë‚¬ì—ˆë‹¤.
    - ì´ë•Œ person.í•„ë“œ1, person.í•„ë“œ2 ì´ëŸ°ì‹ìœ¼ë¡œ ì¼ì¼ì´ ë¶„ë¦¬í•´ì¤˜ì„œ(í’€ì–´ì¤˜ì„œ) contextì— ë„£ì–´ì„œ Responseì— ì´ì£¼ë©´ ì˜ ì‘ë™í•œë‹¤.
    
    ```jsx
    
    --- accounts/views.py ---
    
    # Create your views here.
    @api_view(['GET'])
    def profile(request, username):
        person = get_object_or_404(get_user_model(), username=username) # í˜„ì¬ ì´ê²Œ class User í˜•íƒœë¼ Json ë³€í™˜ì´ ì•ˆ ë¨
        **context = {
            'username': person.username,
            'first_name': person.first_name,
            'last_name': person.last_name,
            'email': person.email,
        }
        return Response(context)**
    ```
    
- <ë¬¸ì œ 18> test1 ê³„ì •ìœ¼ë¡œ profile router rinkì— ë“¤ì–´ê°„ ë’¤ test2 ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ê³  profile router linkì— ë“¤ì–´ê°€ë©´ test2ê°€ ì•ˆëœ¨ê³  test1ì´ ë– ì„œ ë¬¸ì œì˜€ë‹¤.
    - ì´ë•Œ usernameì´ dataì— ì €ì¥ë˜ì–´ ìˆì—ˆëŠ”ë° computedë¡œ ë°”ê¾¸ë©´ ì‹¤ì‹œê°„ ë°˜ì˜ì´ ë¼ì„œ ì˜ ë™ì‘í•œë‹¤.
    - ê¸°ì¡´ ì½”ë“œëŠ” ì£¼ì„ì²˜ë¦¬. data â†’ computedë¡œ ë°”ê¾¸ì—ˆìŒ
    
    ```jsx
    
    --- app.vue ---
    
    <script>
    export default {
      name: 'App',
      // data() {
      //   return {
      //     userName: this.$store.state.userName
      //   }
      // },
      computed: {
        isLogin() {
          return this.$store.getters.isLogin
        },
        **userName() {
          return this.$store.state.userName
        }**
      },
      methods: {
        logOut() {
          this.$store.dispatch('logOut')
        }
      }
    }
    ```
    

- <ë¬¸ì œ 19> í˜ì´ì§€ ë Œë”ë§ë  ë•Œ ìê¾¸ nullê°’ ëœ¬ë‹¤ê³  console ì—ëŸ¬ ëœ° ë•Œ
    - ê·¸ëƒ¥ templateì—ì„œ v-if ì„¤ì •í•´ì£¼ë©´ ë¨.
    
    ```jsx
    
    --- profileView.vue ---
    
    <template>
      <div>
        <h1>ProfileView</h1>
        **<h2 v-if="userData">**{{ userData.username }}</h2>
      </div>
    </template>
    
    <script>
    import axios from 'axios'
    
    const API_URL = 'http://127.0.0.1:8000'
    
    export default {
      name: 'ProfileView',
      data() {
        return {
          userData: null,
        }
      },
    ```
    

- <ë¬¸ì œ 20> : ìƒˆë¡œê³ ì¹¨ problem
    - selection í˜ì´ì§€ì—ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•˜ë©´ ê³„ì† detail í˜ì´ì§€ë¡œ ì´ë™í–ˆë‹¤.
        - routerì˜ view ìˆœì„œê°€ detailì€ `/:id`  ë¡œ ë˜ì–´ ìˆì–´ì„œ selectionì´ ì•„ë˜ì— ìˆì„ ë•Œ ìƒˆë¡œê³ ì¹¨í•˜ë©´ detailë¡œ ê°”ë‹¤.
            - ê·¸ë˜ì„œ selectionì„ detail ìœ„ë¡œ ë„£ì–´ì£¼ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•¨ (10:04 AM ë²Œì¨ í–‰ë³µ 3ì½”ì¸ ì ë¦½)
            
            ```python
            ---router/index.js---
            
            **ì˜ëª»ëœ ì˜ˆ**
            {
                **path: '/:movie_id',**
                name: 'detail',
                component: DetailView
              },
            {
                **path: '/selection',**
                name: 'selection',
                component: SelectionView
              },
            
            **ì˜ëœ ì˜ˆì‹œ**
            	{
                **path: '/selection',**
                name: 'selection',
                component: SelectionView
              },
              {
                **path: '/:movie_id',**
                name: 'detail',
                component: DetailView
            	}
            ```
            
        
         
        
- <ë¬¸ì œ 21> : prop problem
    - SelectionListì—ì„œ Itemìœ¼ë¡œ propí•  ë•Œ ê³„ì† array-obj errorê°€ ë–´ì—ˆë‹¤
        - randomMoviePk, randomMovieë¡œ ê°ê° propí•´ì„œ í•˜ë‚˜ëŠ” Object, í•˜ë‚˜ëŠ” Numberë¡œ ë„£ì–´ì£¼ì—ˆë‹¤.
            
            ```python
            êµ¬ì¡°ê°€ ëŒ€ê°• ì´ëŸ°ì‹ì´ì—ˆìŒ
            
            **{
              pk: 15,
              randomMovies: {
                movie_id: 25,
                title : 'ë„ˆì˜ ì´ë¦„ì€'
              },
            }**
            ```
            

- <ë¬¸ì œ 22> :
    - í”„ë¡œí•„ í˜ì´ì§€ì— ë‚´ê°€ ì¢‹ì•„ìš”í•œ ì˜í™”ì™€ ë‚´ê°€ì“´ ëŒ“ê¸€ ì¶”ê°€í•˜ê¸° ìœ„í•´ profile í•¨ìˆ˜ì— ì—­ì°¸ì¡°í•œ ë°ì´í„°ë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.
        - like_moviesì™€ like_reviewsëŠ” ì„¤ì •í•œ related nameìœ¼ë¡œ ì—­ì°¸ì¡° í•´ì£¼ì—ˆê³ ,  ê·¸ëƒ¥ ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ì—ˆì„ ë•Œ ì˜¤ë¥˜ê°€ ë‚˜ì„œ **values()**ë¡œ ê°’ì„ ì¶”ì¶œí•´ì£¼ê³  **list**ë¡œ ë¬¶ì–´ì£¼ì—ˆë‹¤.
        - my_reviews ê°’ì€ ì™¸ë˜í‚¤ ì—­ì°¸ì¡° í•´ì£¼ê¸°ìœ„í•´ review_set.all()ì„ ë¶™ì—¬ì£¼ê³  ìœ„ë‘ ë˜‘ê°™ì´ í•´ì¤Œ.
    
    ```python
    @api_view(['GET'])
    def profile(request, username):
        person = get_object_or_404(get_user_model(), username=username)
        print(person.review_set.all())
        context = {
            'username': person.username,
            'first_name': person.first_name,
            'last_name': person.last_name,
            'email': person.email,
            **'like_movies': list(person.like_movies.values()),
            'like_reviews': list(person.like_reviews.values()),
            'my_reviews': list(person.review_set.all().values()),**
        }
        return Response(context)
    ```
    

- <ë¬¸ì œ 23> : idì™€ movie_id
    - ìš°ë¦¬ëŠ” movie_idë¡œ urlì„ ë¶ˆëŸ¬ì˜¤ê³  ì‹¶ì€ë° ê³„ì† DBì— ì €ì¥ë˜ì–´ìˆëŠ” idë¡œ urlì´ ë¶ˆëŸ¬ì™€ì¡Œë‹¤. ê·¸ë˜ì„œ ë‚´ í”„ë¡œí•„ì—ì„œ ë‚´ê°€ ì“´ ë¦¬ë·°ë¥¼ í™•ì¸í•˜ë ¤ í•  ë•Œ, movie_idê°€ ëœ¨ì§€ ì•Šê³  idê°€ ë– ì„œ ì•„ë”°ë§ˆê°€ ì•„íŒ ë‹¤.
        - Front routeì—ì„œ pathë¥¼ id â†’ movie_idë¡œ í¸ì˜ìƒ ë°”ê¿”ì£¼ê³ 
        - detailì—ì„œ axiosìš”ì²­í•  ë•Œ urlì— `this.$route.params.movie_id` ë¡œ ë³´ë‚´ì¤¬ë‹¤.
        - ê·¸ë¦¬ê³  [views.py](http://views.py) í•¨ìˆ˜ì—ì„œ pkë¥¼ movie_idë¡œ ë°”ê¾¸ì–´ì£¼ë‹ˆ í•´ê²°
        
        ```python
        --- router/index.js ---
        {
            path: **'/:movie_id',**
            name: 'detail',
            component: DetailView
          },
        
        --- detailview.vue ---
        methods: {
            getMovieDetail() {
              axios({
                method: 'get',
                url: `${API_URL}/movies/${**this.$route.params.movie_id}**`,
              })
        
        --- movies/views.py ---
        
        @api_view(['POST'])
        @permission_classes([IsAuthenticated])
        def movie_likes(request, movie_pk):
            movie = Movie.objects.get(**movie_id**=movie_pk)
        ```
        

- <ë¬¸ì œ 24> : ì•Œê³ ë¦¬ì¦˜ ë¦¬ìŠ¤íŠ¸ë‚´ ë”•ì…”ë„ˆë¦¬ ì •ë ¬
    - ë¦¬ìŠ¤íŠ¸ì— ë”•ì…”ë„ˆë¦¬ê°€ ìˆìœ¼ë©´ list(set(ì›ë˜ë¦¬ìŠ¤íŠ¸))ë¡œ í•˜ë©´ ì—ëŸ¬ê°€ ëœ¸ (ì¤‘ë³µì œê±°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŒ)

```python
not_redundant_movies = list({recommended_movie['id']: recommended_movie for recommended_movie in recommended_movies}.values())
```

- <ë¬¸ì œ 25> : ë¦¬ë·° ë¦¬ìŠ¤íŠ¸ì—ì„œ id ë…¸ì¶œ ë¬¸ì œ
    - detail í˜ì´ì§€ì˜ MovieListì—ì„œ movie_idë¥¼ ë…¸ì¶œì‹œí‚¤ê³  ì‹¶ì€ë° ê·¸ëƒ¥ ìˆœì„œì¸ idê°€ ë‚˜ì™”ë‹¤.
        - djangoì˜ Movie ëª¨ë¸ì˜ primary_key = Trueë¥¼ movie_idì— ê±¸ì–´ì£¼ë©´ ëœë‹¤! reviewê°€ movie ëª¨ë¸ì„ foreign keyë¡œ ì°¸ì¡°í•˜ê³  ìˆê¸° ë•Œë¬¸ì—!

- <ë¬¸ì œ 26> : ì¥ê³  DBì— ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹¤ì‹œê°„ìœ¼ë¡œ axios ìš”ì²­ìœ¼ë¡œ ì˜í™” ì •ë³´ë¥¼ ë„£ì–´ì£¼ê³  ì‹¶ì—ˆë‹¤. (index í˜ì´ì§€ì—ì„œ ìƒˆë¡œê³ ì¹¨í•  ë•Œë§ˆë‹¤ latest movies ê°€ì ¸ì˜¬ ë•Œ)
    - ìš°ë¦¬ëŠ” movie_idë¥¼ Primary_Keyë¡œ ì„¤ì •í–ˆê¸° ë•Œë¬¸ì— ì¥ê³ ì—ì„œ DB ì €ì¥í•  ë•Œ movie_idê°€ ê°™ì€ ê²ƒì´ ìˆìœ¼ë©´ ì•Œì•„ì„œ ê±¸ëŸ¬ì¤€ë‹¤!!!
    
    ```python
    # ìµœì‹ ì˜í™” ì¶”ì²œ ë° DB ì €ì¥ ì•Œê³ ë¦¬ì¦˜
    @api_view(['GET'])
    def latest_movies(request):
    
        top_movies_json = open('movies/fixtures/all_movies.json', encoding='utf-8')    # topratedmovies DB 10000ê°œ
        top_movies = json.load(top_movies_json)  
        
        latest_movies = []
        for i in range(1, 4):
            URL = 'https://api.themoviedb.org/3/movie/now_playing?api_key=a10047aa70542f33ac2138abb4e13bb7&language=ko-KR&page=' + str(i)
    
            response = requests.get(URL).json()
    
            movies = response['results']
    
            for movie in movies:
                latest_movies.append(movie)
            
            random_latest_movies = random.sample(latest_movies, 12)   
    
    **---- ì—¬ê¸° ë¶€ë¶„ì—ì„œ ì¶”ê°€ë˜ëŠ”ë° movie_idê°€ ê°™ì€ê²Œ ì´ë¯¸ DBì— ì¡´ì¬í•˜ë©´ ì•Œì•„ì„œ ê±¸ëŸ¬ì¤Œ (Primary Keyì´ê¸° ë•Œë¬¸ì—)**
    
            for random_latest_movie in random_latest_movies:
                # if random_latest_movie['id'] not in top_movie_ids:
                added_movie = Movie(       
                    adult = random_latest_movie['adult'],
                    movie_id = random_latest_movie['id'],   
                    title = random_latest_movie['title'],
                    genre_ids = random_latest_movie['genre_ids'],  
                    overview = random_latest_movie['overview'],
                    release_date = random_latest_movie['release_date'],
                    popularity = random_latest_movie['popularity'],   
                    vote_average = random_latest_movie['vote_average'],
                    poster_path = random_latest_movie['poster_path'],
                    backdrop_path = random_latest_movie['backdrop_path'],
                )
                added_movie.save()
                print(added_movie)
    
        context = {
            'random_latest_movies': random_latest_movies
        }
    
        return Response(context)
    ```
    
- <ë¬¸ì œ 27> : í”„ë¡œí•„ ì‚¬ì§„ ë³€ê²½ ì‹œì— 405 ì˜¤ë¥˜ê°€ ëœ¨ë©´ì„œ axios ìš”ì²­ì´ ì˜ ê°€ì§€ ì•Šì•˜ë‹¤.
    - ê¸°ì¡´ì— <username> urlê³¼ <int: user_id> urlì´ ì¶©ëŒí•´ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆë˜ ê²ƒì„
    - django urlsì—ì„œëŠ” strê³¼ intë¥¼ ë”±íˆ êµ¬ë¶„í•´ì£¼ì§€ ì•ŠëŠ”ë“¯